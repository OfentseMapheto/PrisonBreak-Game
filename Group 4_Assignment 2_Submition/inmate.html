<html>
<head>
	<title>Inamtes</title>
	<link rel="stylesheet" href="style.css">
</head>	
	<body style="background-color:green;">
	
<audio id="myAudio">
  <source src="./Prison.ogg" type="audio/ogg">
  <source src="./Prison.mp3" type="audio/mpeg">
  Your browser does not support the audio element.
</audio>
	<div class="circle"></div>
	<p id="results"></p>
		
	<script >
	
		var circle = document.querySelector('.circle');
		var moveBy = 10;
		var movementN=0;
		var movementS=0;
		var movementE=0;
		var movementW=0;

		window.addEventListener('load', () =>{
			circle.style.position= 'absolute';
			circle.style.left=590;
			circle.style.top=310;
			
		});

		window.addEventListener('keyup', (e) =>{
			if(movementN > 10 || movementS > 10 || movementW > 10 || movementE > 10 ){
				window.event.preventDefault();
				window.stop();
			}else{
				switch(e.key){
					case 'ArrowLeft':
						circle.style.left = parseInt(circle.style.left) - moveBy + 'px';
						movementW++;
						movementE--;
						addByOne(e);
						break;
					case 'ArrowRight':
						circle.style.left = parseInt(circle.style.left) + moveBy + 'px';
						movementE++;
						movementW--;
						addByOne(e);
						break;
					case 'ArrowUp':
						circle.style.top = parseInt(circle.style.top) - moveBy + 'px';
						movementN++;
						movementS--;
						addByOne(e);
						break;
					case 'ArrowDown':
						circle.style.top = parseInt(circle.style.top) + moveBy + 'px';
						movementS++;
						movementN--;
						addByOne(e);
						break;
				}
			}
		});

		function addByOne(e) {
			if(movementN < 6 && movementS < 6 && movementW < 6 && movementE < 6 ){
				document.body.style.backgroundColor = "green";
			}
			else if((movementN > 6 && movementN < 10) || (movementS > 6 && movementS < 10) || (movementW > 6 && movementW < 10) || (movementE > 6 && movementE < 10)){
				document.body.style.backgroundColor = "orange";
			}
			else if(movementN > 10 || movementS > 10 || movementW > 10 || movementE > 10){
				document.body.style.backgroundColor = "red";
				setTimeout(function(){ alert("Prisoner Escaped!", playAudio())},1);
			}
}



var x = document.getElementById("myAudio"); 

function playAudio() { 
  x.play(); 
} 




	</script>
	</body>
</html>	